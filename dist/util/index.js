'use strict';Object.defineProperty(exports,"__esModule",{value:true});exports.handleDevLock=exports.searchEntries=undefined;var _glob=require('glob');var _glob2=_interopRequireDefault(_glob);var _fs=require('fs');var _fs2=_interopRequireDefault(_fs);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}var searchEntries=function searchEntries(entryPath){var filenamePrefix=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'';var files={};entryPath=entryPath.replace(/\/$/,'');_glob2.default.sync(entryPath+'/**/*.{js,jsx}').forEach(function(file){var entryName=filenamePrefix+file.replace(entryPath+'/','').replace(file.substring(file.lastIndexOf('.')),'');files[entryName]=file;});return files;};var addDevLock=function addDevLock(){var staticPath='web/static';_fs2.default.exists(staticPath,function(exists){if(!exists){_fs2.default.mkdir(staticPath,'0777');}_fs2.default.writeFile(staticPath+'/dev.lock','');});};var removeDevLock=function removeDevLock(){var staticPath='web/static';_fs2.default.exists(staticPath+'/dev.lock',function(exists){if(exists){_fs2.default.unlink(staticPath+'/dev.lock');}});};var handleDevLock=function handleDevLock(isDev){if(isDev){addDevLock();}else{removeDevLock();}};exports.searchEntries=searchEntries;exports.handleDevLock=handleDevLock;